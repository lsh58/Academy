<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery</title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
</head>

<body>
    <div class="ly-pop">
        <figure>
            <p><img src="images/photo-01.jpg"></p>
            <figcaption>gallery 01</figcaption>
        </figure>
        <div>
            <a>prev</a>
            <a>Next</a>
        </div>
    </div>

    <div class="container">
        <h1>Gallery - <span>A responsive image gallery experiment</span></h1>
        <div>

            <ul class="gallery">
                <li>
                    <figure>
                        <p><img src="images/photo-01.jpg"></p>
                        <figcaption>gallery 01</figcaption>
                    </figure>
                </li>
                <li>
                    <figure>
                        <p><img src="images/photo-02.jpg"></p>
                        <figcaption>gallery 02</figcaption>
                    </figure>
                </li>
                <li>
                    <figure>
                        <p><img src="images/photo-03.jpg"></p>
                        <figcaption>gallery 03</figcaption>
                    </figure>
                </li>
                <li>
                    <figure>
                        <p><img src="images/photo-04.jpg"></p>
                        <figcaption>gallery 04</figcaption>
                    </figure>
                </li>
                <li>
                    <figure>
                        <p><img src="images/photo-05.jpg"></p>
                        <figcaption>gallery 04</figcaption>
                    </figure>
                </li>
                <li>
                    <figure>
                        <p><img src="images/photo-06.jpg"></p>
                        <figcaption>gallery 04</figcaption>
                    </figure>
                </li>
            </ul>
        </div>
    </div>

    <script>
        var img = document.querySelectorAll('.gallery p img');
        var ly_pop = document.querySelector('.ly-pop');
        var popimg = ly_pop.querySelector('img');
        var btn = ly_pop.querySelectorAll('div a');

        for (var i = 0; i < img.length; i++) {
            img[i].addEventListener('click', function () {
                var imgsrc = this.src;
                popimg.src = imgsrc;
                ly_pop.style.display = 'flex';
                var src = imgsrc.substr(imgsrc.length - 5);
                var count = src.replace('.jpg', '')
                if (count == 1) {
                    btn[0].style.display = 'none';
                }
                if (count == 6) {
                    btn[1].style.display = 'none';
                }
                btn[0].addEventListener('click', function () {
                    count--;
                    btn[0].style.display = 'block';
                    btn[1].style.display = 'block';
                    if (count == 0) {
                        count = 6;
                    }
                    if (count == 1) {
                        btn[0].style.display = 'none';
                    }
                    if (count == 6) {
                        btn[1].style.display = 'none';
                    }
                    popimg.src = "images/photo-0" + count + ".jpg";
                })
                btn[1].addEventListener('click', function () {
                    count++;
                    btn[0].style.display = 'block';
                    btn[1].style.display = 'block';
                    if (count == 7) {
                        count = 1;
                    }
                    if (count == 1) {
                        btn[0].style.display = 'none';
                    }
                    if (count == 6) {
                        btn[1].style.display = 'none';
                    }
                    popimg.src = "images/photo-0" + count + ".jpg";
                })
            })
        }

        popimg.addEventListener('click', function () {
            ly_pop.style.display = 'none'
            btn[0].style.display = 'block';
            btn[1].style.display = 'block';
        })
        window.addEventListener('keydown', function (e) {
            if (e.keyCode == 27) {
                ly_pop.style.display = 'none'
                btn[0].style.display = 'block';
                btn[1].style.display = 'block';
            }
        })

    </script>
</body>

</html>